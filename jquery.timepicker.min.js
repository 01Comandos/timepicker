/**
 * jQuery Timepicker - v1.2.2 - 2012-07-20
 * http://wvega.github.com/timepicker/
 *
 * Enhances standard form input fields helping users to select (or type) times.
 *
 * Copyright (c) 2012 Willington Vega; Licensed MIT, GPL
 */
typeof jQuery!="undefined"&&function(a,b){function c(a,b,c){return(new Array(c+1-a.length)).join(b)+a}function d(){if(arguments.length===1){var b=arguments[0];return typeof b=="string"&&(b=a.fn.timepicker.parseTime(b)),new Date(1988,7,24,b.getHours(),b.getMinutes(),b.getSeconds())}return arguments.length===3?new Date(1988,7,24,arguments[0],arguments[1],arguments[2]):arguments.length===2?new Date(1988,7,24,arguments[0],arguments[1],0):new Date(1988,7,24)}a.TimePicker=function(){var b=this;b.container=a(".ui-timepicker-container"),b.ui=b.container.find(".ui-timepicker"),b.ui.length===0&&(b.container=a("<div></div>").addClass("ui-timepicker-container").addClass("ui-timepicker-hidden ui-helper-hidden").appendTo("body").hide(),b.ui=a("<ul></ul>").addClass("ui-timepicker").addClass("ui-widget ui-widget-content ui-menu").addClass("ui-corner-all").appendTo(b.container),a.fn.jquery>="1.4.2"&&b.ui.delegate("a","mouseenter.timepicker",function(c){b.activate(!1,a(this).parent())}).delegate("a","mouseleave.timepicker",function(a){b.deactivate(!1)}).delegate("a","click.timepicker",function(c){c.preventDefault(),b.select(!1,a(this).parent())}),b.ui.bind("click.timepicker, scroll.timepicker",function(a){clearTimeout(b.closing)}))},a.TimePicker.count=0,a.TimePicker.instance=function(){return a.TimePicker._instance||(a.TimePicker._instance=new a.TimePicker),a.TimePicker._instance},a.TimePicker.prototype={keyCode:{ALT:18,BLOQ_MAYUS:20,CTRL:17,DOWN:40,END:35,ENTER:13,HOME:36,LEFT:37,NUMPAD_ENTER:108,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SHIFT:16,TAB:9,UP:38},_items:function(b,c){var e=this,f=a("<ul></ul>"),g=null,h,i;b.options.timeFormat.indexOf("m")===-1&&b.options.interval%60!==0&&(b.options.interval=Math.max(Math.round(b.options.interval/60),1)*60),c?h=d(c):b.options.startTime?h=d(b.options.startTime):h=d(b.options.startHour,b.options.startMinutes),i=new Date(h.getTime()+864e5);while(h<i)e._isValidTime(b,h)&&(g=a("<li>").addClass("ui-menu-item").appendTo(f),a("<a>").addClass("ui-corner-all").text(a.fn.timepicker.formatTime(b.options.timeFormat,h)).appendTo(g),g.data("time-value",h)),h=new Date(h.getTime()+b.options.interval*60*1e3);return f.children()},_isValidTime:function(a,b){var c=null,e=null;b=d(b);if(a.options.minTime!==null)c=d(a.options.minTime);else if(a.options.minHour!==null||a.options.minMinutes!==null)c=d(a.options.minHour,a.options.minMinutes);if(a.options.maxTime!==null)e=d(a.options.maxTime);else if(a.options.maxHour!==null||a.options.maxMinutes!==null)e=d(a.options.maxHour,a.options.maxMinutes);return c!==null&&e!==null?b>=c&&b<=e:c!==null?b>=c:e!==null?b<=e:!0},_hasScroll:function(){var a=typeof this.ui.prop!="undefined"?"prop":"attr";return this.ui.height()<this.ui[a]("scrollHeight")},_move:function(a,b,c){var d=this;d.closed()&&d.open(a);if(!d.active){d.activate(a,d.ui.children(c));return}var e=d.active[b+"All"](".ui-menu-item").eq(0);e.length?d.activate(a,e):d.activate(a,d.ui.children(c))},register:function(b,c){var d=this,e={};e.element=a(b);if(e.element.data("TimePicker"))return;e.element.data("TimePicker",e),e.options=a.metadata?a.extend({},c,e.element.metadata()):a.extend({},c),e.widget=d,e.selectedTime=a.fn.timepicker.parseTime(e.element.val()),a.extend(e,{next:function(){return d.next(e)},previous:function(){return d.previous(e)},first:function(){return d.first(e)},last:function(){return d.last(e)},selected:function(){return d.selected(e)},open:function(){return d.open(e)},close:function(a){return d.close(e,a)},closed:function(){return d.closed(e)},destroy:function(){return d.destroy(e)},parse:function(a){return d.parse(e,a)},format:function(a,b){return d.format(e,a,b)},getTime:function(){return d.getTime(e)},setTime:function(a,b){return d.setTime(e,a,b)},option:function(a,b){return d.option(e,a,b)}}),e.element.bind("keydown.timepicker",function(a){switch(a.which||a.keyCode){case d.keyCode.ENTER:case d.keyCode.NUMPAD_ENTER:a.preventDefault(),d.closed()?e.element.trigger("change.timepicker"):d.select(e,d.active);break;case d.keyCode.UP:e.previous();break;case d.keyCode.DOWN:e.next();break;default:d.closed()||e.close(!0)}}).bind("focus.timepicker",function(a){e.open()}).bind("blur.timepicker",function(a){e.close()}).bind("change.timepicker",function(b){e.closed()&&e.setTime(a.fn.timepicker.parseTime(e.element.val()))})},select:function(b,c){var d=this,e=b===!1?d.instance:b;clearTimeout(d.closing),d.setTime(e,a.fn.timepicker.parseTime(c.children("a").text())),d.close(e,!0)},activate:function(a,b){var c=this,d=a===!1?c.instance:a;if(d!==c.instance)return;c.deactivate();if(c._hasScroll()){var e=b.offset().top-c.ui.offset().top,f=c.ui.scrollTop(),g=c.ui.height();e<0?c.ui.scrollTop(f+e):e>=g&&c.ui.scrollTop(f+e-g+b.height())}c.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-item").end()},deactivate:function(){var a=this;if(!a.active)return;a.active.children("a").removeClass("ui-state-hover").removeAttr("id"),a.active=null},next:function(a){return(this.closed()||this.instance===a)&&this._move(a,"next",".ui-menu-item:first"),a.element},previous:function(a){return(this.closed()||this.instance===a)&&this._move(a,"prev",".ui-menu-item:last"),a.element},first:function(a){return this.instance===a?this.active&&!this.active.prevAll(".ui-menu-item").length:!1},last:function(a){return this.instance===a?this.active&&!this.active.nextAll(".ui-menu-item").length:!1},selected:function(a){return this.instance===a?this.active?this.active:null:null},open:function(b){var c=this;if(!b.options.dropdown)return b.element;if(b.rebuild||!b.items||b.options.dynamic&&b.selectedTime)b.items=c._items(b);if(b.rebuild||c.instance!==b||b.options.dynamic&&b.selectedTime)a.fn.jquery<"1.4.2"?(c.ui.children().remove(),c.ui.append(b.items),c.ui.find("a").bind("mouseover.timepicker",function(d){c.activate(b,a(this).parent())}).bind("mouseout.timepicker",function(a){c.deactivate(b)}).bind("click.timepicker",function(d){d.preventDefault(),c.select(b,a(this).parent())})):(c.ui.children().detach(),c.ui.append(b.items));b.rebuild=!1,c.container.removeClass("ui-helper-hidden ui-timepicker-hidden ui-timepicker-standard ui-timepicker-corners").show();switch(b.options.theme){case"standard":c.container.addClass("ui-timepicker-standard");break;case"standard-rounded-corners":c.container.addClass("ui-timepicker-standard ui-timepicker-corners");break;default:}var d=parseInt(c.ui.css("paddingRight"),10),e,f;return c.ui.hasClass("ui-no-scrollbar")&&!b.options.scrollbar&&c.ui.css({paddingRight:d-40}),e=c.ui.outerWidth()-c.ui.width()+(c.container.outerWidth()-c.container.width()),f=b.options.zindex?b.options.zindex:b.element.offsetParent().css("z-index"),c.ui.css({width:b.element.outerWidth()-e}),c.container.css(a.extend(b.element.offset(),{height:c.ui.outerHeight(),width:c.ui.outerWidth(),zIndex:f})),e=b.items.eq(0).outerWidth()-b.items.eq(0).width(),b.items.css("width",c.ui.width()-e),c.ui.hasClass("ui-no-scrollbar")&&!b.options.scrollbar?c.ui.css({paddingRight:d}):b.options.scrollbar||c.ui.css({paddingRight:d+40}).addClass("ui-no-scrollbar"),c.container.css("top",parseInt(c.container.css("top"),10)+b.element.outerHeight()),c.instance=b,b.selectedTime?b.items.each(function(){var d=a(this),e;return a.fn.jquery<"1.4.2"?e=a.fn.timepicker.parseTime(d.find("a").text()):e=d.data("time-value"),e.getTime()===b.selectedTime.getTime()?(c.activate(b,d),!1):!0}):c.deactivate(b),b.element},close:function(a,b){var c=this;return c.closed()||b?(clearTimeout(c.closing),c.instance===a&&(c.container.addClass("ui-helper-hidden ui-timepicker-hidden").hide(),c.ui.scrollTop(0),c.ui.children().removeClass("ui-state-hover"))):c.closing=setTimeout(function(){c.close(a,!0)},150),a.element},closed:function(){return this.ui.is(":hidden")},destroy:function(a){var b=this;return b.close(a,!0),a.element.unbind(".timepicker").data("TimePicker",null)},parse:function(b,c){return a.fn.timepicker.parseTime(c)},format:function(b,c,d){return d=d||b.options.timeFormat,a.fn.timepicker.formatTime(d,c)},getTime:function(a){return a.selectedTime?a.selectedTime:null},setTime:function(b,c,e){var f=this;typeof c=="string"&&(c=b.parse(c));if(c&&c.getMinutes&&f._isValidTime(b,c)){c=d(c),b.selectedTime=c,b.element.val(b.format(c,b.options.timeFormat));if(e)return b;b.element.trigger("time-change",[c]),a.isFunction(b.options.change)&&b.options.change.apply(b.element,[c])}else b.selectedTime=null;return b.element},option:function(b,c,d){if(typeof d=="undefined")return b.options[c];var e=this,f={},g;typeof c=="string"?f[c]=d:f=c,g=["minHour","minMinutes","minTime","maxHour","maxMinutes","maxTime","startHour","startMinutes","startTime","timeFormat","interval","dropdown"],a.each(b.options,function(c,d){typeof f[c]!="undefined"&&(b.options[c]=f[c],!b.rebuild&&a.inArray(c,g)>-1&&(b.rebuild=!0))}),b.rebuild&&b.setTime(b.getTime())}},a.TimePicker.defaults={timeFormat:"hh:mm p",minHour:null,minMinutes:null,minTime:null,maxHour:null,maxMinutes:null,maxTime:null,startHour:null,startMinutes:null,startTime:null,interval:30,dynamic:!0,theme:"standard",zindex:null,dropdown:!0,scrollbar:!1,change:function(a){}},a.TimePicker.methods={chainable:["next","previous","open","close","destroy","setTime"]},a.fn.timepicker=function(b){if(a.fn.jquery<"1.3")return this;if(typeof b=="string"){var c=Array.prototype.slice.call(arguments,1),d,e;return b==="option"&&arguments.length>2?d="each":a.inArray(b,a.TimePicker.methods.chainable)!==-1?d="each":d="map",e=this[d](function(){var d=a(this),e=d.data("TimePicker");if(typeof e=="object")return e[b].apply(e,c)}),d==="map"&&this.length===1?a.makeArray(e).shift():d==="map"?a.makeArray(e):e}if(this.length===1&&this.data("TimePicker"))return this.data("TimePicker");var f=a.extend({},a.TimePicker.defaults,b);return this.each(function(){a.TimePicker.instance().register(this,f)})},a.fn.timepicker.formatTime=function(a,b){var d=b.getHours(),e=d%12,f=b.getMinutes(),g=b.getSeconds(),h={hh:c((e===0?12:e).toString(),"0",2),HH:c(d.toString(),"0",2),mm:c(f.toString(),"0",2),ss:c(g.toString(),"0",2),h:e===0?12:e,H:d,m:f,s:g,p:d>11?"PM":"AM"},i=a,j="";for(j in h)h.hasOwnProperty(j)&&(i=i.replace(new RegExp(j,"g"),h[j]));return i=i.replace(new RegExp("a","g"),d>11?"pm":"am"),i},a.fn.timepicker.parseTime=function(b){var c=[[/^(\d+)$/,"$1"],[/^:(\d)$/,"$10"],[/^:(\d+)/,"$1"],[/^(\d):([7-9])$/,"0$10$2"],[/^(\d):(\d\d)$/,"$1$2"],[/^(\d):(\d{1,})$/,"0$1$20"],[/^(\d\d):([7-9])$/,"$10$2"],[/^(\d\d):(\d)$/,"$1$20"],[/^(\d\d):(\d*)$/,"$1$2"],[/^(\d{3,}):(\d)$/,"$10$2"],[/^(\d{3,}):(\d{2,})/,"$1$2"],[/^(\d):(\d):(\d)$/,"0$10$20$3"],[/^(\d{1,2}):(\d):(\d\d)/,"$10$2$3"]],e=c.length;return function(b){var f=d(new Date),g=!1,h=!1,i=!1,j=!1,k=!1;if(typeof b=="undefined"||!b.toLowerCase)return null;b=b.toLowerCase(),g=/a/.test(b),h=g?!1:/p/.test(b),b=b.replace(/[^0-9:]/g,"").replace(/:+/g,":");for(var l=0;l<e;l++)if(c[l][0].test(b)){b=b.replace(c[l][0],c[l][1]);break}b=b.replace(/:/g,"");if(b.length===1)i=b;else if(b.length===2)i=b;else if(b.length===3||b.length===5)i=b.substr(0,1),j=b.substr(1,2),k=b.substr(3,2);else if(b.length===4||b.length>5)i=b.substr(0,2),j=b.substr(2,2),k=b.substr(4,2);return b.length>0&&b.length<5&&(b.length<3&&(j=0),k=0),i===!1||j===!1||k===!1?!1:(i=parseInt(i,10),j=parseInt(j,10),k=parseInt(k,10),g&&i===12?i=0:h&&i<12&&(i=i+12),i>24&&i%10<=6&&j<=60&&k<=60?b.length>=6?a.fn.timepicker.parseTime(b.substr(0,5)):a.fn.timepicker.parseTime(b+"0"+(g?"a":"")+(h?"p":"")):i<=24&&j<=60&&k<=60?(f.setHours(i,j,k),f):!1)}}()}(jQuery);